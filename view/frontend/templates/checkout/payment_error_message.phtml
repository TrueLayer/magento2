<?php

use Magento\Framework\Escaper;
use TrueLayer\Connect\Block\Checkout\PaymentErrorMessage;

/**
 * @var Escaper $escaper
 * @var PaymentErrorMessage $block
 */
?>

<script type="text/x-magento-init">
    {
        "*": {
            "Magento_Ui/js/core/app": {
                "components": {
                    "truelayer-error-message": {
                        "component": "TrueLayer_Connect/js/payment_error_message",
                        "hasError": <?= $block->hasMessage() ? 'true' : 'false' ?>,
                        "errorMessage": "<?= $escaper->escapeHtml(__($block->getMessage())) ?>"
                    }
                }
            }
        }
    }
</script>
